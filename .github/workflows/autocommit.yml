name: ğŸš€ Auto Commit Pro

on:
  push:
    branches: [main]
  schedule:
    - cron: "*/30 * * * *"
  workflow_dispatch:

permissions:
  contents: write

jobs:
  auto_commit:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: ğŸ•’ Update Timestamp
        run: |
          d=$(date -u '+%Y-%m-%dT%H:%M:%SZ')
          echo "Last update: $d ğŸš€" > LAST_UPDATED

      - name: ğŸ¤– Create Legendary Commit
        run: |
          git config user.email "shayanzare2222@gmail.com"
          git config user.name "Shayan Zare ğŸš€"
          git add -A
          messages=(
            "ğŸš€ chore(bot): leveling up GitHub stats"
            "ğŸ”¥ chore(bot): keeping the graph green"
            "ğŸŸ¢ chore(bot): commit energy boosted"
            "âš¡ chore(bot): power mode activated"
            "ğŸ’ chore(bot): premium auto update"
            "ğŸ‘‘ chore(bot): king of contributions"
            "ğŸ¯ chore(bot): mission green accomplished"
          )
          rand=$((RANDOM % ${#messages[@]}))
          git commit -m "${messages[$rand]}" || echo "No changes to commit"

      - name: ğŸš€ Push changes
        run: |
          git push